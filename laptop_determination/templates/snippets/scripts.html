{% load static %}
<script src=" {% static 'vendor/plugins/jquery/jquery.min.js' %} "></script>
<!-- jQuery UI 1.11.4 -->
<script src="{% static 'vendor/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
$.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src=" {% static 'vendor/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src=" {% static 'vendor/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %} "></script>
<!-- AdminLTE App -->
<script src=" {% static 'vendor/dist/js/adminlte.js' %} "></script>
<!-- Select2 -->
<script src="{% static 'vendor/plugins/select2/js/select2.full.min.js' %}"></script>

<script src="{% static 'vendor/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'vendor/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script>
	$(document).ready(function(){
		$('#table_dataset').DataTable()
		$('.select2bs4').select2({
	      theme: 'bootstrap4'
	    })

		var temp1 = $('#penting_1').val();
		var temp2 = $('#penting_2').val();
		var temp3 = $('#penting_3').val();
		var temp4 = $('#penting_4').val();
		var temp5 = $('#penting_5').val();
	    function UpdateOption(tanda,pilihan){
	    	var temp = [temp1,temp2,temp3,temp4,temp5];
	    	if(pilihan != "kosong"){
	    		for(var i=1;i<=5;i++){
	    			if(i==tanda)continue;
	    			else{
	    				$("#penting_"+i+" option[value='"+pilihan+"']").remove();
	    			}
	    		}
	    	}
	    	else{
	    		var opsi = "<option value='"+temp[(tanda-1)]+"'>"+temp[(tanda-1)]+"</option>";
	    		for(var i=1;i<=5;i++){
	    			if(i==tanda)continue;
	    			else{
	    				$("#penting_"+i).append(opsi);
	    			}
	    		}
	    	}
	    }

	    $('#penting_1').change(function(){
	    	var tanda = 1;
	    	var data = $(this).val();
	    	if(data!="kosong") temp1 = data;
	    	UpdateOption(tanda,data);
	    })
	    $('#penting_2').change(function(){
	    	var tanda = 2;
	    	var data = $(this).val();
	    	if(data!="kosong") temp2 = data;
	    	UpdateOption(tanda,data);
	    })
	    $('#penting_3').change(function(){
	    	var tanda = 3;
	    	var data = $(this).val();
	    	if(data!="kosong") temp3 = data;
	    	UpdateOption(tanda,data);
	    })
	    $('#penting_4').change(function(){
	    	var tanda = 4;
	    	var data = $(this).val();
	    	if(data!="kosong") temp4 = data;
	    	UpdateOption(tanda,data);
	    })
	    $('#penting_5').change(function(){
	    	var tanda = 5;
	    	var data = $(this).val();
	    	if(data!="kosong") temp5 = data;
	    	UpdateOption(tanda,data);
	    })

	    $('#reset_penting').click(function(){
	    	location.reload();
	    })
	    
	    $('#perhitungan').click(function(){
	    	var tanda = $('#detail_perhitungan').attr('tanda')
	    	if(tanda == '0'){
	    		$('#detail_perhitungan').attr('tanda','1')
		    	$("#detail_perhitungan").css("display","block");
		    	$("#perhitungan").html('Sembunyikan Perhitungan');	
	    	}else{
	    		$('#detail_perhitungan').attr('tanda','0')
	    		$("#detail_perhitungan").css("display","none");
		    	$("#perhitungan").html('Lihat Perhitungan');
	    	}
	    })

	})
</script>